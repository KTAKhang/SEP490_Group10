{
    "LƯU_Ý": {
        "1": "Tất cả endpoint đều cần Authorization header với Bearer token",
        "2": "Cách lấy token: Đăng nhập qua POST /auth/sign-in hoặc POST /auth/google",
        "3": "Header format: Authorization: Bearer <access_token>",
        "4": "Thay {CONTACT_ID} bằng ID thật từ response của createContact",
        "5": "Thay {ATTACHMENT_ID} bằng ID thật từ response của uploadAttachment"
    },
    
    "BƯỚC_1_ĐĂNG_NHẬP": {
        "endpoint": "POST /auth/sign-in",
        "body": {
            "email": "testuser@gmail.com",
            "password": "Test1234"
        },
        "response_contains": {
            "token": {
                "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
            }
        },
        "note": "Copy access_token từ response để dùng trong các request tiếp theo"
    },

    "createContact": {
        "method": "POST",
        "endpoint": "POST /contacts",
        "headers": {
            "Authorization": "Bearer <access_token>",
            "Content-Type": "application/json"
        },
        "body": {
            "subject": "Yêu cầu hỗ trợ sản phẩm",
            "message": "Tôi cần được hỗ trợ về sản phẩm ABC. Có vấn đề về chất lượng sản phẩm khi sử dụng và cần được giải quyết nhanh chóng.",
            "category": "HIGH"
        },
        "note": "category: LOW, MEDIUM, HIGH, hoặc URGENT. Không cần user_id vì lấy từ token"
    },

    "getContacts": {
        "method": "GET",
        "endpoint": "GET /contacts?status=OPEN&category=HIGH&page=1&limit=10",
        "headers": {
            "Authorization": "Bearer <access_token>"
        },
        "query_params": {
            "status": "OPEN (optional: OPEN, IN_PROGRESS, RESOLVED, CLOSED)",
            "category": "HIGH (optional: LOW, MEDIUM, HIGH, URGENT)",
            "page": "1 (optional, default: 1)",
            "limit": "10 (optional, default: 10)"
        },
        "note": "GET request KHÔNG cần body. User chỉ xem Contact của mình, Admin xem tất cả"
    },

    "getContactById": {
        "method": "GET",
        "endpoint": "GET /contacts/{CONTACT_ID}",
        "headers": {
            "Authorization": "Bearer <access_token>"
        },
        "note": "Lấy CONTACT_ID từ response của createContact. GET request KHÔNG cần body"
    },

    "updateContactStatus": {
        "method": "PATCH",
        "endpoint": "PATCH /contacts/{CONTACT_ID}/status",
        "headers": {
            "Authorization": "Bearer <admin_access_token>",
            "Content-Type": "application/json"
        },
        "body": {
            "status": "IN_PROGRESS",
            "assigned_admin_id": "507f1f77bcf86cd799439012"
        },
        "note": "CHỈ ADMIN. Status: OPEN, IN_PROGRESS, RESOLVED, CLOSED. assigned_admin_id là optional"
    },

    "createReply": {
        "method": "POST",
        "endpoint": "POST /contacts/{CONTACT_ID}/replies",
        "headers": {
            "Authorization": "Bearer <access_token>",
            "Content-Type": "application/json"
        },
        "body": {
            "message": "Cảm ơn bạn đã liên hệ. Chúng tôi sẽ xử lý yêu cầu của bạn sớm nhất có thể."
        },
        "note": "Lấy CONTACT_ID từ response của createContact. Không thể reply Contact đã CLOSED"
    },

    "getReplies": {
        "method": "GET",
        "endpoint": "GET /contacts/{CONTACT_ID}/replies",
        "headers": {
            "Authorization": "Bearer <access_token>"
        },
        "note": "Lấy CONTACT_ID từ response của createContact. GET request KHÔNG cần body"
    },

    "uploadAttachment": {
        "method": "POST",
        "endpoint": "POST /contacts/{CONTACT_ID}/attachments",
        "headers": {
            "Authorization": "Bearer <access_token>"
        },
        "body_type": "multipart/form-data",
        "form_data": {
            "file": "[Chọn file để upload]"
        },
        "allowed_file_types": [
            "image/jpeg",
            "image/png",
            "image/gif",
            "application/pdf",
            "application/msword",
            "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
            "text/plain"
        ],
        "max_file_size": "10MB",
        "max_files_per_contact": 5,
        "note": "Lấy CONTACT_ID từ response của createContact. Trong Postman: Body → form-data → key: file (type: File)"
    },

    "getAttachments": {
        "method": "GET",
        "endpoint": "GET /contacts/{CONTACT_ID}/attachments",
        "headers": {
            "Authorization": "Bearer <access_token>"
        },
        "note": "Lấy CONTACT_ID từ response của createContact. GET request KHÔNG cần body"
    },

    "deleteAttachment": {
        "method": "DELETE",
        "endpoint": "DELETE /contacts/{CONTACT_ID}/attachments/{ATTACHMENT_ID}",
        "headers": {
            "Authorization": "Bearer <access_token>"
        },
        "note": "Lấy CONTACT_ID và ATTACHMENT_ID từ response. DELETE request KHÔNG cần body. User chỉ xóa Attachment của Contact của mình, Admin xóa tất cả"
    }
}
